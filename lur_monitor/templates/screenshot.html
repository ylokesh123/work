{% extends "index.html" %}
{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Screenshots</title>
    <link rel="stylesheet" href="{% static "screenshot.css" %}">

    <link rel="stylesheet" href="{% static "lightbox.css" %}">

    <link rel="stylesheet"
        href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Document</title>
    <style>
        .main-content{
            margin-right:700px;
        }
        .record-header .dropbtn {
            border-radius: 10px;
            background-color: #34425a;
            color: white;
            padding: 10px;
            font-size: 16px;
            border: none;
            cursor: pointer;
          }
          
          /* The container <div> - needed to position the dropdown content */
            .record-header .dropdown {
            position: relative;
            display: inline-block;
          }
          
          /* Dropdown Content (Hidden by Default) */
          .record-header .dropdown-content {
            height: 400px;
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
          }
          
          /* Links inside the dropdown */
          .record-header .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
          }
          
          /* Change color of dropdown links on hover */
          .record-header .dropdown-content a:hover {background-color: #f1f1f1}
          
          /* Show the dropdown menu on hover */
          .record-header .dropdown:hover .dropdown-content {
            display: block;
          }
          
          /* Change the background color of the dropdown button when the dropdown content is shown */
          .record-header .dropdown:hover .dropbtn {
            background-color: #34425a;
          }
    </style>
</head>

<body>

    <input type="checkbox" id="menu-toggle">

    <div class="main-content">
        <main>
            <div class="page-header">
                <h1>Activity</h1>
                <small>ScreenShots / Activity</small>


                <!-- <input type="text" onclick="myFunction()" class="dropbtn">
                    <input  class="dropbtn" type="date"> -->
                    
                    <div class="record-header">
                        <div class="input-group">
                            <!-- <input type="search" placeholder="Searce Data....."> -->
                            <input type="date" style="height: 30px; border-radius: 10px; width: 150px; border: none; padding:5px;">
                        </div>
                        <div class="dropdown">
                            <button class="dropbtn">EMP ID</button>
                            <div class="dropdown-content">
                                <a href="{% url 'screenshot' 0 %}"> All</a>
                                {% for i in allempid %}
                                <a href="{% url 'screenshot' i.id %}">{{i.Empid}}</a>
                                {% endfor %}
                              
                            </div>
                          </div>
                        </div>
                        
                    </div>

            </div>

            <div class="page-content">

                <div class="analytics">

                    <div class="card">
                        <div class="card-head">
                            <h2>3,082</h2>

                        </div>
                        <div class="card-progress">
                            <small>App's</small>
                            <!-- <div class="card-indicator">
                                <div class="indicator one" style="width: 60%"></div>
                            </div> -->
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-head">
                            <h2>4,230</h2>

                        </div>
                        <div class="card-progress">
                            <small>Project's</small>
                            <!-- <div class="card-indicator">
                                <div class="indicator two" style="width: 80%"></div>
                            </div> -->
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-head">
                            <h2>5,200</h2>

                        </div>
                        <div class="card-progress">
                            <small>Meeting's</small>
                            <!-- <div class="card-indicator">
                                <div class="indicator three" style="width: 65%"></div>
                            </div> -->
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-head">
                            <h2>10,200</h2>

                        </div>
                        <div class="card-progress">
                            <small>Website's</small>
                            <!-- <div class="card-indicator">
                                <div class="indicator four" style="width: 90%"></div>
                            </div> -->
                        </div>
                    </div>

                </div>




                <div class="records table-responsive">
                    <div class="content-panel">
                        {% for j in employee %}
                        <div class="card">
                            
                            <div class="container">
                                <img src="{{j.screenshot.url}}" alt="Avatar" height="120px" width="300px" style="margin-left: 200px;">
                                <div class="studio">
                                    <h4><b>{{j.apps}}</b></h4>
                                    <p>Working on project</p>
                                    <div class="card-indicator">
                                        <div class="indicator three" style="width: 65%"></div>
                                    </div>
                                    <p>10:00 pm to 10:30 pm</p>
                                </div>
                            </div>
                            
                        </div>
                        {% empty %}
                           {% endfor %}
                    <div class="lightbox" id="lightbox">
                        <span class="close" id="closeLightbox">&times;</span>
                        <img class="lightbox-content" id="lightboxImage">
                    </div>

                </div>

            </div>

        </main>

    </div>

    <script>
        // script.js

        document.addEventListener("DOMContentLoaded", function () {
            const lightbox = document.getElementById("lightbox");
            const lightboxImage = document.getElementById("lightboxImage");
            const closeLightbox = document.getElementById("closeLightbox");

            const cards = document.querySelectorAll(".card");

            cards.forEach(function (card) {
                card.addEventListener("click", function () {
                    const imgSrc = card.querySelector("img").src;
                    lightboxImage.src = imgSrc;
                    lightbox.style.display = "block";
                });
            });

            closeLightbox.addEventListener("click", function () {
                lightbox.style.display = "none";
            });

            window.addEventListener("click", function (event) {
                if (event.target === lightbox) {
                    lightbox.style.display = "none";
                }
            });
        });



        function myFunction() {
            document.getElementById("myDropdown").classList.toggle("show");
        }

        // Close the dropdown if the user clicks outside of it
        window.onclick = function (event) {
            if (!event.target.matches('.dropbtn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                var i;
                for (i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }

    </script>
</body>

</html>
{% endblock content %}
